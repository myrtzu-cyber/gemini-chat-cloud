<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Simples - Teste</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #654321 0%, #8b4513 50%, #4b0082 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(139, 69, 19, 0.9);
            border: 3px solid #d4af37;
            border-radius: 20px;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .chat-area {
            background: #f4f1e8;
            color: #8b4513;
            border: 2px solid #d4af37;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .input-area {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .message-input {
            flex: 1;
            padding: 15px;
            border: 3px solid #d4af37;
            border-radius: 10px;
            font-size: 16px;
            background: #f4f1e8;
            color: #8b4513;
        }
        
        .send-btn {
            padding: 15px 30px;
            background: linear-gradient(145deg, #d4af37, #b8860b);
            border: 2px solid #8b4513;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        
        .send-btn:hover {
            background: linear-gradient(145deg, #b8860b, #d4af37);
        }
        
        .message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
        }
        
        .user-message {
            background: rgba(212, 175, 55, 0.2);
            text-align: right;
        }
        
        .system-message {
            background: rgba(139, 69, 19, 0.2);
        }
        
        .debug {
            background: #333;
            color: #0f0;
            font-family: monospace;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Chat Simples - Teste de Input</h1>
            <p>Vers√£o simplificada para testar se o problema √© espec√≠fico ou geral</p>
        </div>
        
        <div class="chat-area" id="chatArea">
            <div class="system-message">
                ‚úÖ Sistema carregado! Digite uma mensagem para testar.
            </div>
        </div>
        
        <div class="input-area">
            <input 
                type="text" 
                id="simpleInput" 
                class="message-input" 
                placeholder="Digite sua mensagem aqui (TESTE)..."
                autofocus
            />
            <button class="send-btn" onclick="sendMessage()">üì§ Enviar</button>
        </div>
        
        <div class="debug" id="debugArea">
            üîç Debug: Aguardando a√ß√£o...
        </div>
    </div>

    <script>
        let messageCount = 0;
        
        function addToDebug(message) {
            const debug = document.getElementById('debugArea');
            const timestamp = new Date().toLocaleTimeString();
            debug.innerHTML += `<br/>[${timestamp}] ${message}`;
        }
        
        function addToChatArea(message, isUser = false) {
            const chatArea = document.getElementById('chatArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = isUser ? 'message user-message' : 'message system-message';
            messageDiv.innerHTML = message;
            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
        }
        
        function sendMessage() {
            const input = document.getElementById('simpleInput');
            const message = input.value.trim();
            
            addToDebug(`Tentando enviar: "${message}"`);
            
            if (!message) {
                addToDebug('‚ùå Mensagem vazia');
                alert('Digite uma mensagem!');
                return;
            }
            
            messageCount++;
            
            // Adicionar mensagem do usu√°rio
            addToChatArea(`üë§ Voc√™: ${message}`, true);
            addToDebug(`‚úÖ Mensagem ${messageCount} enviada com sucesso`);
            
            // Simular resposta do sistema
            setTimeout(() => {
                addToChatArea(`ü§ñ Sistema: Recebi sua mensagem "${message}". Teste ${messageCount} realizado com sucesso!`);
                addToDebug(`‚úÖ Resposta autom√°tica enviada`);
            }, 500);
            
            // Limpar input
            input.value = '';
            input.focus();
        }
        
        // Eventos
        document.getElementById('simpleInput').addEventListener('keydown', (e) => {
            addToDebug(`üéπ Tecla: ${e.key}`);
            if (e.key === 'Enter') {
                e.preventDefault();
                sendMessage();
            }
        });
        
        document.getElementById('simpleInput').addEventListener('input', (e) => {
            addToDebug(`‚úèÔ∏è Digitando: "${e.target.value}"`);
        });
        
        document.getElementById('simpleInput').addEventListener('focus', () => {
            addToDebug('üéØ Input focado');
        });
        
        document.getElementById('simpleInput').addEventListener('blur', () => {
            addToDebug('üòë Input perdeu foco');
        });
        
        // Teste de inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            addToDebug('‚úÖ P√°gina carregada');
            
            setTimeout(() => {
                const input = document.getElementById('simpleInput');
                input.focus();
                addToDebug('üéØ Foco aplicado no input');
                
                // Teste de funcionalidade
                addToChatArea('üîß Sistema de teste inicializado. Digite algo para verificar se est√° funcionando.');
            }, 100);
        });
        
        // Fun√ß√£o global de teste
        window.testInput = function() {
            const input = document.getElementById('simpleInput');
            input.value = 'Teste autom√°tico funcionando!';
            addToDebug('üîÑ Teste autom√°tico executado');
            sendMessage();
        };
        
        addToDebug('üì± Script carregado');
    </script>
</body>
</html>
